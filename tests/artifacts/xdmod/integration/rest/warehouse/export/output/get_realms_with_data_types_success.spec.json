{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "allOf": [
        { "$ref": "get_realms.spec.json" },
        {
            "properties": {
                "data": {
                    "items": { "$ref": "#/$defs/realm" }
                }
            }
        }
    ],
    "$defs": {
        "realm": {
            "properties": {
                "fields": { "$ref": "#/$defs/fields" }
            }
        },
        "fields": {
            "items": { "$ref": "#/$defs/field" }
        },
        "field": {
            "properties": {
                "dataType": { "$ref": "#/$defs/dataType" }
            },
            "required": [ "dataType" ]
        },
        "dataType": {
            "type": "string",
            "oneOf": [
                { "pattern": "^varchar\\(\\d+\\)$" },
                { "pattern": "^int\\(\\d+\\)$" },
                { "pattern": "^int\\(\\d+\\) unsigned$" },
                { "pattern": "^decimal\\(\\d+,\\d+\\)$" },
                { "pattern": "^datetime$" }
            ]
        }
    }
}
